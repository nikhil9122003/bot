// Chatbot Initialization
const botResponses = {


    default: "Did you give the depression test? Yes or no?",
   


    yes: "What was your depression level from the test? Was it low, mild, moderate, or modsevere?",
    no: "If not, please take the test now and if already given then say yes  Test link: https://nikhil9122003.github.io/test/ ",
    mild: "If your depression test suggests mild depression, it's important to take proactive steps to support your mental well-being. Mild depression can improve with lifestyle changes and coping strategies. Here’s what you can do:Recognize Triggers: Pay attention to any specific triggers causing you stress or sadness. It could be work, relationships, or personal challenges. Awareness is the first step toward managing them.Exercise Regularly: Physical activity, even a short walk, can help release endorphins, which improve your mood. Aim for moderate exercise, like walking, yoga, or cycling.Talk to Friends or Family: Share how you're feeling with trusted people. Social support can be incredibly helpful in times of emotional distress.Join Support Groups: Sometimes, talking to others who might be experiencing similar feelings can provide comfort and new perspectives.Deep Breathing: Practice deep breathing or progressive muscle relaxation to reduce anxiety or stress.Mindfulness Meditation: Simple mindfulness exercises, like focusing on your breath or engaging in meditation, can help calm your mind.Sleep Routine: Establish a consistent bedtime and wake-up time, and avoid stimulants like caffeine before bed. Quality sleep has a big impact on mental health.Healthy Foods: Incorporate a variety of fruits, vegetables, lean proteins, and whole grains in your diet. Some studies suggest that omega-3 fatty acids and foods rich in antioxidants may improve mood.Focus on Daily Tasks: Break down bigger tasks into smaller, manageable steps. Accomplishing small goals can provide a sense of achievement and combat feelings of helplessness.Stay Away from Substances: Alcohol and drugs can worsen depression. Limiting these can help you stay emotionally balanced.Talk to a Professional: If you're comfortable, consider speaking with a therapist or counselor. Cognitive-behavioral therapy (CBT) is particularly effective for mild depression.Online Therapy: There are also online therapy platforms where you can talk to professionals from home if you prefer.Keep a Journal: Writing down your thoughts and feelings can help you monitor your progress and notice any patterns in your mood.Pursue Hobbies: Doing things that bring you joy, whether it's reading, painting, or cooking, can help shift focus from negative emotions.If you find that your symptoms are worsening or persisting despite these efforts, it may be worth consulting a mental health professional for additional guidance.Mild depression is treatable, and with the right steps, you can feel better and regain balance in your life.",











    moderate: "If your depression test suggests moderate depression, it's important to take steps toward managing your mental health more actively. Moderate depression can impact daily life, but with the right support and strategies, it can be managed. Here’s what you can do:Therapist or Counselor: Consider speaking with a licensed therapist or counselor. Cognitive Behavioral Therapy (CBT) and other forms of therapy can be very effective for moderate depression.Medical Consultation: A healthcare professional may assess if medication is necessary to help balance brain chemicals that affect mood, such as antidepressants.Talk to Loved Ones: Open up to friends or family members you trust about how you're feeling. Having someone to talk to and support you is crucial.Support Groups: Sometimes connecting with others who are going through similar experiences can provide comfort and reduce feelings of isolation.Structure Your Day: Create a simple routine that includes basic tasks like waking up, eating, exercising, and winding down. This structure can provide a sense of normalcy and help you avoid feeling overwhelmed.Set Small Goals: Accomplishing even small tasks can help counter feelings of helplessness. Focus on manageable daily goals, and celebrate your achievements.Exercise Regularly: Physical activity, such as walking, yoga, or any moderate exercise, can reduce depression symptoms by boosting endorphins, the brain’s “feel-good” chemicals.Start Slowly: If exercise feels too difficult, start with short, gentle activities and gradually increase them as you feel more capable.Consistent Sleep Schedule: Try to go to bed and wake up at the same time every day, even on weekends. Lack of sleep can worsen depression, so focus on getting quality rest.Create a Relaxing Bedtime Routine: Avoid electronics before bed and create a calming routine, such as reading, meditation, or a warm bath.Healthy Eating: Incorporate a balanced diet rich in vegetables, fruits, whole grains, and lean proteins. Certain nutrients, like omega-3 fatty acids (found in fish, flaxseed, etc.), have been linked to improved mood.Stay Hydrated: Drinking enough water can also improve energy levels and help you feel more focused.Mindfulness Meditation: Practices like mindfulness or deep breathing can help calm anxiety and manage negative thoughts.Grounding Techniques: Use grounding techniques, such as focusing on your surroundings, to stay present and reduce overwhelming emotions.Avoid Substance Use: Alcohol and drugs can worsen symptoms of depression and interfere with medications or other treatments.Identify Stressors: If specific situations or relationships are causing stress, work on managing them in healthy ways, such as setting boundaries or delegating tasks.Relaxation Techniques: Engage in relaxing activities like yoga, journaling, or listening to calming music to lower your stress levels.Online Therapy: If in-person therapy isn’t accessible, consider online therapy platforms where you can speak with a licensed professional from home.Self-Help Apps: There are also mental health apps that offer coping strategies and mood tracking tools.Avoid Isolation: Even though it may feel easier to withdraw, staying connected to others is important. Regular interaction with supportive people can help you feel more grounded and less alone.Rekindle Hobbies: Even if you don't feel like it, gently encourage yourself to engage in activities you used to enjoy. They can help provide small moments of relief or pleasure.Journaling: Keep a journal of your thoughts and feelings. This can help you understand your emotions better and notice patterns that affect your mood.Track Your Progress: Monitoring your mental health over time can help you and your therapist adjust your treatment plan as needed.Consult a Doctor: In some cases, a doctor might recommend medication to manage moderate depression. This is typically combined with therapy and other lifestyle changes to maximize effectiveness.Emergency Support: If at any point your symptoms worsen or you feel like you need urgent help, don’t hesitate to reach out to a healthcare provider or a crisis helpline.With moderate depression, it’s crucial to take consistent, small steps to improve your mental health. It’s also important to reach out to professionals when needed. Treatment for moderate depression is effective, and with time and the right approach, it’s possible to feel better.",
    modsevere: "If your depression test suggests moderately severe depression, it’s important to take proactive steps and seek professional help. This level of depression can significantly affect daily life, but it is treatable. Here's what you can do to manage your mental health effectively:Therapy: It’s essential to work with a licensed therapist or counselor. Cognitive Behavioral Therapy (CBT), Interpersonal Therapy (IPT), or Dialectical Behavior Therapy (DBT) are all proven methods for treating depression.Psychiatrist Consultation: A psychiatrist may assess whether medication is necessary. Antidepressants can help balance brain chemicals that affect mood and improve your overall outlook.Antidepressants: Your doctor may prescribe medications such as Selective Serotonin Reuptake Inhibitors (SSRIs), Serotonin-Norepinephrine Reuptake Inhibitors (SNRIs), or other types, which can help regulate mood. These medications often work best when combined with therapy.Monitor Side Effects: If prescribed medication, make sure to keep your doctor informed about how you feel and any side effects.Talk to Someone You Trust: Confide in friends or family members about how you’re feeling. Their support can help you feel less isolated.Join Support Groups: Consider joining depression support groups (in person or online). It can help to connect with others going through similar experiences.Basic Hygiene and Routine: On tough days, focus on simple self-care tasks like getting out of bed, showering, and eating. Small steps are achievements when dealing with severe emotions.Sleep Hygiene: Develop a regular sleep schedule. Moderately severe depression can lead to insomnia or oversleeping. Try to go to bed and wake up at the same time every day.Healthy Eating: Nutrient-rich foods can help improve mood and energy. Focus on balanced meals with fruits, vegetables, whole grains, and lean proteins.Mindfulness and Meditation: Practices like mindfulness or meditation can help manage feelings of anxiety, stress, and intrusive thoughts.Breathing Exercises: Deep breathing exercises or progressive muscle relaxation can be useful for calming anxiety and managing stress.Grounding Techniques: When feeling overwhelmed, grounding techniques (focusing on what you can see, touch, smell, etc.) can help bring you back to the present moment.Identify Stressors: Recognize areas of your life that cause the most stress, and try to reduce or manage them. Whether it’s work, relationships, or financial concerns, addressing these issues with practical solutions or setting boundaries can help.Prioritize Relaxation: Engage in relaxing activities such as reading, watching calming content, or gentle yoga to unwind.Moderate Exercise: Exercise can be difficult with depression, but even a short walk or some light stretching can help release endorphins, improving mood. If possible, aim for 30 minutes of activity a few times per week.Start Slowly: If physical activity feels too overwhelming, start with small, manageable movements like stretching or taking short walks.Substance Avoidance: Alcohol and drugs can worsen depression symptoms and interfere with medications, so it’s important to limit or avoid them.Mood Tracking: Keeping a journal of your thoughts and feelings can help you understand your emotions better and identify any patterns or triggers for your depression.Reflect on Small Wins: On tough days, reflect on any small achievements or positives, no matter how minor they seem. This can help shift focus away from negativity.Reintroduce Hobbies: Try to engage in activities you once enjoyed, even if it feels hard. Reading, listening to music, painting, or watching movies can offer moments of relief.Be Gentle with Yourself: Don’t pressure yourself to feel better immediately. Engage in small pleasures and activities at your own pace.Set a Schedule: Depression often leads to a lack of motivation. Creating a daily routine can provide structure and help you stay active, even on low-energy days.Break Tasks into Steps: Break larger tasks into small, manageable steps, and focus on completing them one at a time.Reach Out for Help: If you ever feel like your depression is becoming too much or if you’re having thoughts of self-harm, reach out to a crisis helpline, a healthcare provider, or a trusted person immediately. Crisis helplines and mental health professionals are available to provide immediate support.Therapy and Medication Compliance: Stick to the treatment plan set by your healthcare provider, including therapy sessions and medication. It may take time to see improvement, but consistency is key.Regular Check-Ins: Schedule regular appointments with your therapist or doctor to monitor your progress and adjust your treatment plan if needed.If you're ever feeling in danger or have thoughts of self-harm, please seek help immediately:National Suicide Prevention Lifeline (US): 1-800-273-8255 (available 24/7).Text Line: Text HELLO to 741741.Emergency Help: If you're in immediate crisis, please go to the nearest emergency room or contact local emergency services.Moderately severe depression is a serious condition, but with professional support and personal effort, it can be managed and improved. Be kind to yourself, and remember that recovery is a journey, not a sprint. You don’t have to go through this alone.",
    greeting: "Did you give the depression test? Yes or no?",
    anxiety: "Anxiety can be overwhelming. It's important to talk about it. Would you like to share your thoughts?",
    stress: "Feeling stressed? It's okay to take a break and breathe. What helps you relax?",
    support: "I'm here to support you. Do you want to talk about your feelings?",
    low: "If your depression test suggests low depression, that's a positive indication! Here are some steps you can take to maintain or enhance your mental well-being.Stay Active: Regular physical activity can boost your mood and reduce stress. Aim for at least 30 minutes of exercise most days.Healthy Eating: A balanced diet rich in fruits, vegetables, whole grains, and lean proteins can have a positive impact on your mood.Sleep Well: Ensure you're getting enough restorative sleep. Establish a regular sleep routine to improve the quality of your sleep.Practice Mindfulness: Techniques like meditation, yoga, or deep-breathing exercises can help you manage stress and stay present.Stay Connected: Maintain relationships with friends and family. Social interactions can provide support and improve your mood.Engage in Hobbies: Spend time doing activities you enjoy, whether it's reading, painting, playing sports, or any other hobby.Set Goals: Focus on setting achievable goals for yourself, whether personal or professional, to maintain a sense of purpose and accomplishment.Limit Stress: Identify sources of stress in your life and take steps to manage them. This could involve time management strategies or relaxation techniques.Seek Support if Needed: Even if you feel good, talking to a therapist or counselor can provide additional strategies for maintaining your mental health.Reflect: Take some time to reflect on what contributes to your well-being and what might trigger feelings of low mood, and consider how to manage those triggers.Remember that mental health is a continuous journey, and it's great that you're proactive about it!",

};

let userMessageHistory = []; // Store message history
let botMessageHistory = []; // Store bot message history

// Event listener for the send button
document.getElementById('sendButton').onclick = function() {
    const userInput = document.getElementById('userInput');
    const userMessage = userInput.value.trim();
    if (userMessage) {
        logUserMessage(userMessage); // Log user message
        displayMessage(userMessage, 'user');
        userInput.value = '';
        getBotResponse(userMessage);
    }
};

// Function to log user messages for later analysis
function logUserMessage(message) {
    userMessageHistory.push(message);
    if (userMessageHistory.length > 100) { // Limit to last 100 messages
        userMessageHistory.shift();
    }
}

// Function to display messages in the chatbox
function displayMessage(message, sender) {
    const messageElement = document.createElement('div');
    messageElement.textContent = message;
    messageElement.className = `message ${sender}`;
    document.getElementById('messages').appendChild(messageElement);
    document.getElementById('chatbox').scrollTop = document.getElementById('chatbox').scrollHeight; // Scroll to the bottom
}

// Function to get bot response based on user input
function getBotResponse(userMessage) {
    let botMessage = botResponses.default;

    // Check for specific keywords or phrases
    if (userMessage.toLowerCase().includes('no')) {
        botMessage = botResponses.no;

    } else if (userMessage.toLowerCase().includes('help')) {
        botMessage = botResponses.help;
    } else if (userMessage.toLowerCase().includes('low')) {
        botMessage = botResponses.low;

    } else if (userMessage.toLowerCase().includes('yes')) {
        botMessage = botResponses.yes;
    } else if (userMessage.toLowerCase().includes('mild')) {
        botMessage = botResponses.mild;
    } else if (userMessage.toLowerCase().includes('moderate')) {
        botMessage = botResponses.moderate;
    } else if (userMessage.toLowerCase().includes('modsevere')) {
        botMessage = botResponses.modsevere;
        setTimeout(() => {
            endChat(); // End chat if user says goodbye
        }, 2000);
    } else if (userMessage.toLowerCase().includes('hello')) {
        botMessage = botResponses.greeting;
    } else if (userMessage.toLowerCase().includes('greeting')) {
        botMessage = botResponses.greeting;
    } else if (userMessage.toLowerCase().includes('stress')) {
        botMessage = botResponses.stress;
    } else if (userMessage.toLowerCase().includes('support')) {
        botMessage = botResponses.support;
    }

    // Log bot message
    logBotMessage(botMessage);

    // Simulate a delay for the bot's response
    setTimeout(() => {
        displayMessage(botMessage, 'bot');
    }, 500);
}

// Function to log bot messages for later analysis
function logBotMessage(message) {
    botMessageHistory.push(message);
    if (botMessageHistory.length > 100) { // Limit to last 100 messages
        botMessageHistory.shift();
    }
}

// Function to end chat session
function endChat() {
    displayMessage("Thank you for chatting with me! Feel free to return if you need to talk again.", 'bot');
    document.getElementById('userInput').disabled = true; // Disable input
    document.getElementById('sendButton').disabled = true; // Disable button
}

// Event listener for Enter key
document.getElementById('userInput').addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
        document.getElementById('sendButton').click();
    }
});

// Function to show message history in a modal
function showMessageHistory() {
    const historyContent = document.getElementById('historyContent');
    historyContent.innerHTML = ''; // Clear previous history
    userMessageHistory.forEach(msg => {
        const p = document.createElement('p');
        p.textContent = `User: ${msg}`;
        historyContent.appendChild(p);
    });
    botMessageHistory.forEach(msg => {
        const p = document.createElement('p');
        p.textContent = `Bot: ${msg}`;
        historyContent.appendChild(p);
    });
    document.getElementById('modal').style.display = 'block'; // Show modal
}

// Function to close message history modal
function closeModal() {
    document.getElementById('modal').style.display = 'none'; // Hide modal
}

// Add a button to show message history
document.getElementById('historyButton').onclick = showMessageHistory;

// Load welcome message on startup
window.onload = function() {
    displayMessage(botResponses.greeting, 'bot');
};
